"use strict";
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = handlerEditUserDataSubmit;
var _messages = require("../../../../const/messages");
var _currentUser = require("../../../../const/objects/currentUser");
var _UsersAPI = require("../../../api/UsersAPI");
var _getCurrentUser = _interopRequireDefault(require("../../getCurrentUser"));
function handlerEditUserDataSubmit(options) {
  return _UsersAPI.usersAPI.putUserProfile(options).then(function (data) {
    if (data.status >= 200 && data.status <= 299) {
      (0, _getCurrentUser["default"])().then(function (data) {
        if (data !== null) {
          Object.assign(_currentUser.currentUser, data);
        }
      });
      return _messages.MESSAGES.USER_DATA_EDIT;
    } else {
      var obj = JSON.parse(data.response);
      return obj.reason;
    }
  });
}
