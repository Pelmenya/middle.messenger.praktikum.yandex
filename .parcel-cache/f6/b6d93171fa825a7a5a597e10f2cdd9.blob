"use strict";
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = handlerAddChatSubmit;
var _ChatsAPI = require("../../../api/ChatsAPI");
var _storeObj = require("../../../store/storeObj");
var _getElementFromStore = _interopRequireDefault(require("../../getElementFromStore"));
var _renderChats = _interopRequireDefault(require("../../renderChats"));
function handlerAddChatSubmit(options) {
  return _ChatsAPI.chatsAPI.createChat(options).then(function (data) {
    if (data.status >= 200 && data.status <= 299) {
      var addChatPopupElement = (0, _getElementFromStore["default"])(_storeObj.store, "chatsProps", "add_chat");
      if (addChatPopupElement !== null) addChatPopupElement.hide();
      (0, _renderChats["default"])();
    } else {
      var obj = JSON.parse(data.response);
      return obj.reason;
    }
  })["catch"](function (err) {
    return alert(err);
  });
}
