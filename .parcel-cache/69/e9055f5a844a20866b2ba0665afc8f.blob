"use strict";
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _isEqualStrings = _interopRequireDefault(require("../functions/isEqualStrings"));
var _render2 = _interopRequireDefault(require("../functions/render"));
var Route = /*#__PURE__*/(function () {
  function Route(pathname, view, props) {
    (0, _classCallCheck2["default"])(this, Route);
    this.pathname = pathname;
    this.blockClass = view;
    this.block = null;
    this.props = props;
  }
  (0, _createClass2["default"])(Route, [{
    key: "navigate",
    value: function navigate(pathname) {
      if (this.match(pathname)) {
        this.render();
      }
    }
  }, {
    key: "leave",
    value: function leave() {
      if (this.block) {
        this.block.hide(true);
      }
    }
  }, {
    key: "match",
    value: function match(pathname) {
      return (0, _isEqualStrings["default"])(pathname, this.pathname);
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.block) {
        this.block = new this.blockClass(this.props.blockProps);
      }
      if (this.props.blockProps.elements !== undefined) (0, _render2["default"])([{
        query: this.props.rootQuery,
        block: this.block
      }].concat((0, _toConsumableArray2["default"])(this.props.blockProps.elements))); else (0, _render2["default"])([{
        query: this.props.rootQuery,
        block: this.block
      }]);
      if (this.block !== null) this.block.show();
    }
  }]);
  return Route;
})();
exports["default"] = Route;
